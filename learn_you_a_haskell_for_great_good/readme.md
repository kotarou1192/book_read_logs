# すごいHaskell楽しく学ぼう

discordに読んでる途中の感想やメモをたくさん残してたので、それを追加。
以後はここにメモすることに。

## この本is何

純粋関数型言語のHaskellを扱うためのチュートリアル本。  
扱い方や考え方を親切に解説している。  

## 感想とか

第1版 第12刷についての感想

### 1章

Haskellの紹介などが書いてある。

### 2章

型についてのかんたんな解説。  
型クラスがここで初登場。

### 3章

関数の基礎的な書き方について学ぶ。

### 4章

再帰関数について学ぶ。

### 5章

高階関数周りについて学ぶ。  
カリー化と部分適用について学ぶ。  

**カリー化と部分適用の違いは大事。**  
カリー化は引数を減らす事ができるようにすること。  
部分適用はカリー化された関数に一部だけの引数を与えること。  

### 6章

モジュールの作り方について学ぶ。

### 7章

型や型クラスを自分で定義する方法について学ぶ。  
再帰的なデータ構造やその型がどうやって求められるかについても学ぶ。  

### 8章

I/O周りについての基礎を学ぶ。  
標準入出力を利用する。

### 9章

ファイルに対してのI/Oを学ぶ。  
とても大きなファイルを開いても、遅延評価によってメモリを食いつぶさずに処理することが出来る。  
このあたりから実践的なコードが出現し始める。

### 10章

様々な問題を関数型言語のアプローチで解く。  

- 逆ポーランド記法で書かれた文字列を関数型言語で計算する
- 単純な最短経路問題

### 11章

結構重いかもしれないので個人の見解を書いておく。

#### ファンクターについておさらいする

##### ファンクタ―ってなんやねん

- 箱的ななにか
- ある関数を使って操作（コピー）できるもの
- 任意のネストに対して任意にネストできるもの
- リストだったりMap[k, v]だったり
  - vがintだったりstringだったり混在してしたら、操作に使うある関数がその2つを受け取れなければならない。お手上げっぽい。
  - なおファンクターの定義は、具体型を一つ取って具体型を返す関数。

#### 実は関数もファンクターだった

##### 関数もファンクタ―ってどういうことなん

- 関数fに何らかの引数aを入力するとなにかが帰ってくることを(-> a)と表す
- 関数a -> bはa型のなにか入力するとbが帰ってくるもの
- 関数(-> a) bは上に同じ
- ネストしまくった(-> (-> (-> (-> a) b) c) d) は a -> b -> c -> d
  - あれ、どっかで見たことあるやんね

#### むしろファンクターは関数っぽい

純粋関数型だしまあたしかに。  

- 引数aをとり、何かを返す関数
  - 引数bをとり、何かを返す関数
    - ...
      - 引数xを取り、intを返す関数

これってa, b...xを取るとintを返す関数だよね、みたいな。  
このintが[]だったら…？

#### ファンクターがファンクタ―であるために

##### ルールその1

idでなにか入ってるファンクタ―を写してもファンクターの中身が変わってはいけない
(idと\x -> xは等価)  
副作用がないことの確認みたいなものだと思う。id (+2) 3ってid 2 + 3で、その結果が毎回変わったら怖い。  

##### ルールその2

なにか入ってるファンクターaを関数fとgで操作するときに
**f (g a)とf . g aが返すなにか入ってたファンクタ―bが等しい**  
カリー化できることを保証するのかもしれない。  

##### ルールその3(ファンクタ―則)

ルールその1とルールその2を破るな

#### もっと抽象的（汎用的）なアプリカティブファンクタ―

普通のファンクタ―だとファンクターの中に入った何かを外側に取り出す一般的な方法がない。つまり中身をいじれない。  
でも、ファンクターの中身に関数を入れて、ファンクター同士で対象のファンクタ―に対してfmapすると、ファンクターの中身をいじることが出来る。  
そう、アプリカティブならね！  
ファンクターの中の世界に行って関数を適用しているように見える。  

リスト内包表記をアプリカティブ・スタイルで置き換えることができることがある。  

### 12章
